/*
 * jQuery form validity plugin
 * @author: Jonathan Brumley <cayasso@gmail.com>
 */
(function(c){c.fn.validity=function(j,l){if(!this.length)return this;$inputs=c('input[type="text"], input[type="email"]');$inputs.live("focusin",function(){if(this.value==this.defaultValue)this.value=""}).live("focusout",function(){if(this.value==="")this.value=this.defaultValue||""});this.submit(function(){var b=this,g=true;c.each(f.fields,function(j,d){var h;a:{var a=c(b).find(j);h=true;if(a.length){a=a[0];if(a.value===a.defaultValue)a.value="";if(c.isArray(d))for(var e=0;e<d.length;e++)if(d[e].rule&& (typeof d[e].rule==="string"?h=m[d[e].rule](a):c.isFunction(d[e].rule)&&(h=d[e].rule(a)),h===false)){if(a.value==="")a.value=a.defaultValue||"";i.field=a;i.msg=d[e].message||k.messages[d[e].rule]||"";h=false;break a}}}if(!h===true)return c.isFunction(f.onError)&&f.onError(b,i),f.show_alerts&&alert(i.msg),g=false});f.callback(this,g,i);return g});var k={show_alerts:true,fields:{},messages:{required:"This field is required when submitting.",email:"The email address you entered is invalid.\n\nPlease reenter your email address. Example: name@example.com"}, onError:function(){},callback:function(){}},m={required:function(b){return!(!b.value||b.value==="")},email:function(b){return/^[a-z0-9^_`{|}~-]+(?:\.[a-z0-9^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+(?:[a-z]{2,4})$/i.test(b.value)}},i={},f={};(function(b,g){if(b&&b.callback&&c.isFunction(g))f.callback=g;f=c.extend({},k,b)})(j,l);return this}})(jQuery);

